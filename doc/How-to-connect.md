# How to Connect Mobile App

This guide explains Mobile app link concepts and how to connect the Axon Ivy Mobile Application to your Engine.

## Contents
- Mobile app link
  - How to know Mobile app link
  - How to guess the security system based on the URL in browser
  - How to know security system in Cockpit
  - How to know Backend API in Cockpit
- How to connect to Mobile app

## Mobile app link

### How to know Mobile app link

- The Server link in the Sign In UI of the Mobile app (Mobile app link) is the Backend API of Engine without `/api` at the end.

#### How to construct Mobile app link

- Mobile app link for default security system = `base url`
- Mobile app link for a named security system = `base url` + `/` + `security system name`

No required settings or steps to activate the API on the Engine.

#### Examples

With base url `https://mobile-demo-server.ivy-cloud.com`:

| Security system | Backend API                                         | Mobile app link                             |
|-----------------|-----------------------------------------------------|---------------------------------------------|
| default         | https://mobile-demo-server.ivy-cloud.com/api        | https://mobile-demo-server.ivy-cloud.com    |
| portal          | https://mobile-demo-server.ivy-cloud.com/portal/api | https://mobile-demo-server.ivy-cloud.com/portal |

With base url `http://portal01.server.ivy-cloud.com:8001`:

| Security system | Backend API                                              | Mobile app link                                    |
|-----------------|-----------------------------------------------------------|---------------------------------------------------|
| default         | http://portal01.server.ivy-cloud.com:8001/api            | http://portal01.server.ivy-cloud.com:8001          |
| portal          | http://portal01.server.ivy-cloud.com:8001/portal/api     | http://portal01.server.ivy-cloud.com:8001/portal   |

### How to guess the security system based on the URL in browser

This is a bit tricky. You could use Cockpit for a formal check if needed.

- URL in browser for default security system = `base url` + `application name` + `/` + `faces`
- URL in browser for named security system = `base url` + `/` + `security system name` + `/` + `application name` + `/` + `faces`

#### Examples

- If the URL of the browser is:
  `http://portal01.server.ivy-cloud.com:8001/mobile-demo/faces/instances/mobile-demo$1/1988811230C604C1/com.axonivy.mobile.mobiledemo.Invoice/Invoice.xhtml`.
  Then split by `/`. Before `faces` is `mobile-demo` as application name; before `mobile-demo` is the base url.
  It means this is the default security system. Mobile app link would be `http://portal01.server.ivy-cloud.com:8001`.

- If the URL of the browser is:
  `http://portal01.server.ivy-cloud.com:8001/portal/portal-demo/faces/instances/portal$1/1988805B3EF70705/ch.ivy.addon.portal.generic.Login/Login.xhtml`.
  Then split by `/`. Before `faces` is `portal-demo` as application name; before `portal-demo` is `portal` as security system name.
  Mobile app link would be `http://portal01.server.ivy-cloud.com:8001/portal`.

### How to know security system in Cockpit

For detailed Cockpit documentation on security systems, see:
https://developer.axonivy.com/doc/12.0/en/engine-guide/reference/engine-cockpit/security.html

### How to know Backend API in Cockpit

For the API documentation of Axon Ivy Engine REST in Cockpit, see:
https://developer.axonivy.com/doc/12.0/en/concepts/3rd-party-integration/restapi.html

## How to connect to Mobile app

Use Mobile app link, username, password to Sign in.

- Server Link: URL link to your Axon Ivy engine, e.g. `http://portal01.server.ivy-cloud.com:8001`
- Username: Your login username
- Password: Your login password

You could also scan the QR code that is generated by Portal. To generate it, Portal needs to set variable `Portal.UserMenu.ShowQRCode` to `true` in Admin settings.

For detailed steps on generating and using QR codes in Portal, see the official guide:
https://market.axonivy.com/market-cache/portal/portal-guide/12.0.11/doc/en/portal-user-guide/qr-code/index.html